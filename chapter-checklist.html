<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.4.553">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="James A. Fellows Yates">

<title>Introduction to Ancient Metagenomics – 22&nbsp; Chapter Checklist</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./chapter-template.html" rel="prev">
<link href="./favicon.png" rel="icon" type="image/png">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


<meta property="og:title" content="Introduction to Ancient Metagenomics - [22]{.chapter-number}&nbsp; [Chapter Checklist]{.chapter-title}">
<meta property="og:description" content="This page acts as a quick-reference checklist when going through the chapter writing process to ensure consistency between chapters.">
<meta property="og:site_name" content="Introduction to Ancient Metagenomics">
</head>

<body class="nav-sidebar floating">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./appendices.html">Appendices</a></li><li class="breadcrumb-item"><a href="./chapter-checklist.html"><span class="chapter-number">22</span>&nbsp; <span class="chapter-title">Chapter Checklist</span></a></li></ol></nav>
        <a class="flex-grow-1" role="button" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="./">
      Introduction to Ancient Metagenomics
      </a> 
        <div class="sidebar-tools-main">
  <a href="" class="quarto-reader-toggle quarto-navigation-tool px-1" onclick="window.quartoToggleReader(); return false;" title="Toggle reader mode">
  <div class="quarto-reader-toggle-btn">
  <i class="bi"></i>
  </div>
</a>
</div>
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Introduction</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./citing-this-book.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Citing this book</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./authors.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Authors</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./acknowledgements.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Acknowledgements</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./before-you-start.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Before you Start</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./section-theory.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Theory</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./introduction-to-ngs-sequencing.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Introduction to NGS Sequencing</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./introduction-to-ancient-dna.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Introduction to Ancient DNA</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./introduction-to-metagenomics.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Introduction to Metagenomics</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./introduction-to-microbial-genomics.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Introduction to Microbial Genomics</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./introduction-to-evolutionary-biology.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Introduction to Evolutionary Biology</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./section-useful-skills.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Useful Skills</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./bare-bones-bash.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Introduction to the Command Line</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./r-tidyverse.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Introduction to R and the Tidyverse</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./python-pandas.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">Introduction to Python and Pandas</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./git-github.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title">Introduction to Git(Hub)</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./section-ancient-metagenomics.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Ancient Metagenomics</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-3" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./taxonomic-profiling.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">10</span>&nbsp; <span class="chapter-title">Taxonomic Profiling, OTU Tables and Visualisation</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./functional-profiling.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">11</span>&nbsp; <span class="chapter-title">Functional Profiling</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./denovo-assembly.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">12</span>&nbsp; <span class="chapter-title">Introduction to _de novo_ Genome Assembly</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./authentication-decontamination.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">13</span>&nbsp; <span class="chapter-title">Authentication and Decontamination</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./section-ancient-genomics.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Ancient Genomics</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-4" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./genome-mapping.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">14</span>&nbsp; <span class="chapter-title">Genome Mapping</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./phylogenomics.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">15</span>&nbsp; <span class="chapter-title">Introduction to Phylogenomics</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./section-ancient-metagenomic-resources.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Ancient Metagenomic Resources</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-5" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-5" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./accessing-ancient-metagenomic-data.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">16</span>&nbsp; <span class="chapter-title">Accessing Ancient Metagenomic Data</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./ancient-metagenomic-pipelines.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">17</span>&nbsp; <span class="chapter-title">Ancient Metagenomic Pipelines</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./appendices.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Appendices</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-6" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-6" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./resources.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">18</span>&nbsp; <span class="chapter-title">Resources</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./tools.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">19</span>&nbsp; <span class="chapter-title">Tools</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./chapter-writing-guidelines.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">20</span>&nbsp; <span class="chapter-title">Chapter Writing Guidelines</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./chapter-template.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">21</span>&nbsp; <span class="chapter-title">Chapter Page Template</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./chapter-checklist.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text"><span class="chapter-number">22</span>&nbsp; <span class="chapter-title">Chapter Checklist</span></span></a>
  </div>
</li>
      </ul>
  </li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#structure" id="toc-structure" class="nav-link active" data-scroll-target="#structure"><span class="header-section-number">22.1</span> Structure</a></li>
  <li><a href="#language" id="toc-language" class="nav-link" data-scroll-target="#language"><span class="header-section-number">22.2</span> Language</a></li>
  <li><a href="#text-formatting" id="toc-text-formatting" class="nav-link" data-scroll-target="#text-formatting"><span class="header-section-number">22.3</span> Text Formatting</a></li>
  <li><a href="#callouts" id="toc-callouts" class="nav-link" data-scroll-target="#callouts"><span class="header-section-number">22.4</span> Callouts</a></li>
  <li><a href="#references" id="toc-references" class="nav-link" data-scroll-target="#references"><span class="header-section-number">22.5</span> References</a></li>
  <li><a href="#tables" id="toc-tables" class="nav-link" data-scroll-target="#tables"><span class="header-section-number">22.6</span> Tables</a></li>
  <li><a href="#figures" id="toc-figures" class="nav-link" data-scroll-target="#figures"><span class="header-section-number">22.7</span> Figures</a></li>
  <li><a href="#code-blocks" id="toc-code-blocks" class="nav-link" data-scroll-target="#code-blocks"><span class="header-section-number">22.8</span> Code Blocks</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default"><nav class="quarto-page-breadcrumbs quarto-title-breadcrumbs d-none d-lg-block" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./appendices.html">Appendices</a></li><li class="breadcrumb-item"><a href="./chapter-checklist.html"><span class="chapter-number">22</span>&nbsp; <span class="chapter-title">Chapter Checklist</span></a></li></ol></nav>
<div class="quarto-title">
<h1 class="title"><span class="chapter-number">22</span>&nbsp; <span class="chapter-title">Chapter Checklist</span></h1>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>James A. Fellows Yates </p>
          </div>
  </div>
    
  
    
  </div>
  


</header>


<p>This page acts as a quick-reference checklist when going through the chapter writing process to ensure consistency between chapters. A template to start writing a new chapter can be found in <a href="./chapter-template.html">Chapter Template</a>. A more detailed guideline page can be found in <a href="./chapter-writing-guidelines.html">Chapter Writing Guidelines</a>.</p>
<p>We generally recommend you go through your chapter repeatedly, each time going through one of the checklist sections below. This will help make the editing process more manageable by only considering one type of object each time.</p>
<section id="structure" class="level2" data-number="22.1">
<h2 data-number="22.1" class="anchored" data-anchor-id="structure"><span class="header-section-number">22.1</span> Structure</h2>
<ul>
<li>Each chapter should start with a brief introduction (without header!) and bullet point list of learning objectives</li>
<li>Each major section should end in a mini-test question/answer block in a specially formatted <a href="#callouts">call-out</a></li>
<li>Each chapter’s penultimate header should be <code># Summary</code> and summarise list of key takeaway messages</li>
<li>Each chapter that has used citations should have the last section as <code># References</code> with nothing under underneath</li>
<li>Headers should either be two- or three-levels deep (e.g.&nbsp;<code>##</code> or <code>###</code>), and no deeper or fewer.
<ul>
<li>The single level header is reserved for the chapter title</li>
</ul></li>
<li>Data should not be stored in the textbook, but rather linked to Zenodo archives (generally set up by the summer school organising team)</li>
</ul>
</section>
<section id="language" class="level2" data-number="22.2">
<h2 data-number="22.2" class="anchored" data-anchor-id="language"><span class="header-section-number">22.2</span> Language</h2>
<ul>
<li>All text should be in British english</li>
<li>Collective first person ‘we’ should be used</li>
</ul>
</section>
<section id="text-formatting" class="level2" data-number="22.3">
<h2 data-number="22.3" class="anchored" data-anchor-id="text-formatting"><span class="header-section-number">22.3</span> Text Formatting</h2>
<ul>
<li>Each sentence should be on a new line</li>
<li>Each paragraph should be separated from the previous paragraph with an empty line</li>
<li>Bullet points lists
<ul>
<li>Should be indicated with a <code>-</code> and sub-points with a 4-space indent</li>
<li>Bullet points should start with a capital letter and end with no full stop</li>
</ul></li>
<li>Emphasis
<ul>
<li>Use <em>italics</em> for emphasis with single underscores</li>
<li>If bold is absolutely required, use <strong>double asterisks</strong></li>
</ul></li>
<li>External URLs should be in the format <code>[https://spaam-community.org](https://spaam-community.org)</code>, where the URL is explicitly written to ensure portability with printed versions of the textbook</li>
<li>Internal links to other pages or sections are recommended where possible, and should be in the format <code>[Chapter Checklist](chapter-checklist.qmd)</code> for other pages or <code>[Text Formatting](#text-formatting)</code> for internal-sections</li>
<li>Do not use quote blocks for text that is not a direct quote
<ul>
<li>Instead use <a href="#callouts">callouts</a></li>
</ul></li>
<li>Paths should generally be relative to the working directory of the chapter’s practical session</li>
<li>Place holder text (e.g.&nbsp;in paths etc.) should be lower case and in angled brackets, for example <code>&lt;path&gt;/&lt;to&gt;/&lt;something&gt;</code></li>
</ul>
</section>
<section id="callouts" class="level2" data-number="22.4">
<h2 data-number="22.4" class="anchored" data-anchor-id="callouts"><span class="header-section-number">22.4</span> Callouts</h2>
<ul>
<li><a href="https://quarto.org/docs/authoring/callouts.html">Quarto callouts</a> should be used for any text that requires special attention from the reader, for example warnings, tips, etc.</li>
<li>A special format of call-out is used for the end-of-section mini-test questions and answers (<a href="#structure">see</a>), see the <a href="./chapter-template.html">template</a> or <a href="./chapter-writing-guidelines.html">writing guidelines</a> for examples</li>
</ul>
</section>
<section id="references" class="level2" data-number="22.5">
<h2 data-number="22.5" class="anchored" data-anchor-id="references"><span class="header-section-number">22.5</span> References</h2>
<ul>
<li>All chapters that use citations must have a dedicated <code>.bib</code> file under <code>assets/references/</code> and should be defined in the markdown header</li>
<li>In text citations are made like this <span class="citation" data-cites="Fellows-Yates2024-tg">@Fellows-Yates2024-tg</span> or <span class="citation" data-cites="Fellows-Yates2024-tg">[@Fellows-Yates2024-tg]</span>
<ul>
<li>You don’t need to write brackets yourself, the square brackets will be rendered accordingly</li>
</ul></li>
<li>Bibliographies don’t need to be written manually, they will automatically be rendered for you at the end of the chapter</li>
</ul>
</section>
<section id="tables" class="level2" data-number="22.6">
<h2 data-number="22.6" class="anchored" data-anchor-id="tables"><span class="header-section-number">22.6</span> Tables</h2>
<ul>
<li>Tables should be ideally formatted using markdown syntax</li>
<li>All tables should be referenced in the text</li>
<li>All tables should have a caption and label (<a href="./chapter-writing-guidelines.html">writing guidelines</a> for examples)</li>
<li>Code generated tables should also have a label and caption defined in the code block using Quarto syntax (see <a href="./chapter-writing-guidelines.html">writing guidelines</a> for examples)</li>
<li>Labels should be in form of: <code>tbl-&lt;chapternamenopunctiation&gt;-&lt;descriptiveid&gt;</code></li>
</ul>
</section>
<section id="figures" class="level2" data-number="22.7">
<h2 data-number="22.7" class="anchored" data-anchor-id="figures"><span class="header-section-number">22.7</span> Figures</h2>
<ul>
<li>All figure should have a caption and a label (<a href="./chapter-writing-guidelines.html">writing guidelines</a> for examples)</li>
<li>Labels should be in form of: <code>fig-&lt;chapternamenopunctiation&gt;-&lt;descriptiveid&gt;</code></li>
<li>All figures should be referenced in text</li>
<li>Captions should be descriptive to aid accessibility</li>
</ul>
</section>
<section id="code-blocks" class="level2" data-number="22.8">
<h2 data-number="22.8" class="anchored" data-anchor-id="code-blocks"><span class="header-section-number">22.8</span> Code Blocks</h2>
<ul>
<li>Text prior code blocks should end in a full stop</li>
<li>Inline code defined with single <code>backticks</code> should be used for a single word or object (e.g., <code>variable</code>, <code>tool</code>, <code>.suffix</code>)</li>
<li>All commands or longer code related text must go in a dedicated markdown triple backticks with the language specified (e.g., ```<code>{bash}</code>)</li>
<li>Do not prefix commands with a <code>$</code> or <code>&gt;</code> to indicate a command prompt</li>
<li>Code with very large/long-running output should be set to <code>eval=FALSE</code> in the code block options</li>
<li>Output from large/long-running output should be placed in a collapsible call-out block (<a href="./chapter-writing-guidelines.html">writing guidelines</a> for examples)</li>
<li>Code for self-guided chapter set-up should be wrapped in a collapsible note call-out block with a ’Self guided:
<title>
’ format&lt;/li&gt;
&lt;li&gt;Example code that should not be run by the user should wrapped in a ‘warning’ call-out block with the title ‘Example command - do not run!’&lt;/li&gt;
&lt;/ul&gt;
&lt;div id="quarto-navigation-envelope" class="hidden"&gt;
&lt;p&gt;&lt;span class="hidden" data-render-id="quarto-int-sidebar-title"&gt;Introduction to Ancient Metagenomics&lt;/span&gt; &lt;span class="hidden" data-render-id="quarto-int-navbar-title"&gt;Introduction to Ancient Metagenomics&lt;/span&gt; &lt;span class="hidden" data-render-id="quarto-int-prev"&gt;&lt;span class="chapter-number"&gt;21&lt;/span&gt;&nbsp; &lt;span class="chapter-title"&gt;Chapter Page Template&lt;/span&gt;&lt;/span&gt; &lt;span class="hidden" data-render-id="quarto-int-sidebar:/index.htmlIntroduction"&gt;Introduction&lt;/span&gt; &lt;span class="hidden" data-render-id="quarto-int-sidebar:/citing-this-book.htmlCiting-this-book"&gt;Citing this book&lt;/span&gt; &lt;span class="hidden" data-render-id="quarto-int-sidebar:/authors.htmlAuthors"&gt;Authors&lt;/span&gt; &lt;span class="hidden" data-render-id="quarto-int-sidebar:/acknowledgements.htmlAcknowledgements"&gt;Acknowledgements&lt;/span&gt; &lt;span class="hidden" data-render-id="quarto-int-sidebar:/before-you-start.htmlBefore-you-Start"&gt;Before you Start&lt;/span&gt; &lt;span class="hidden" data-render-id="quarto-int-sidebar:quarto-sidebar-section-1"&gt;Theory&lt;/span&gt; &lt;span class="hidden" data-render-id="quarto-int-sidebar:/introduction-to-ngs-sequencing.html&lt;span-class='chapter-number'&gt;1&lt;/span&gt;--&lt;span-class='chapter-title'&gt;Introduction-to-NGS-Sequencing&lt;/span&gt;"&gt;&lt;span class="chapter-number"&gt;1&lt;/span&gt;&nbsp; &lt;span class="chapter-title"&gt;Introduction to NGS Sequencing&lt;/span&gt;&lt;/span&gt; &lt;span class="hidden" data-render-id="quarto-int-sidebar:/introduction-to-ancient-dna.html&lt;span-class='chapter-number'&gt;2&lt;/span&gt;--&lt;span-class='chapter-title'&gt;Introduction-to-Ancient-DNA&lt;/span&gt;"&gt;&lt;span class="chapter-number"&gt;2&lt;/span&gt;&nbsp; &lt;span class="chapter-title"&gt;Introduction to Ancient DNA&lt;/span&gt;&lt;/span&gt; &lt;span class="hidden" data-render-id="quarto-int-sidebar:/introduction-to-metagenomics.html&lt;span-class='chapter-number'&gt;3&lt;/span&gt;--&lt;span-class='chapter-title'&gt;Introduction-to-Metagenomics&lt;/span&gt;"&gt;&lt;span class="chapter-number"&gt;3&lt;/span&gt;&nbsp; &lt;span class="chapter-title"&gt;Introduction to Metagenomics&lt;/span&gt;&lt;/span&gt; &lt;span class="hidden" data-render-id="quarto-int-sidebar:/introduction-to-microbial-genomics.html&lt;span-class='chapter-number'&gt;4&lt;/span&gt;--&lt;span-class='chapter-title'&gt;Introduction-to-Microbial-Genomics&lt;/span&gt;"&gt;&lt;span class="chapter-number"&gt;4&lt;/span&gt;&nbsp; &lt;span class="chapter-title"&gt;Introduction to Microbial Genomics&lt;/span&gt;&lt;/span&gt; &lt;span class="hidden" data-render-id="quarto-int-sidebar:/introduction-to-evolutionary-biology.html&lt;span-class='chapter-number'&gt;5&lt;/span&gt;--&lt;span-class='chapter-title'&gt;Introduction-to-Evolutionary-Biology&lt;/span&gt;"&gt;&lt;span class="chapter-number"&gt;5&lt;/span&gt;&nbsp; &lt;span class="chapter-title"&gt;Introduction to Evolutionary Biology&lt;/span&gt;&lt;/span&gt; &lt;span class="hidden" data-render-id="quarto-int-sidebar:quarto-sidebar-section-2"&gt;Useful Skills&lt;/span&gt; &lt;span class="hidden" data-render-id="quarto-int-sidebar:/bare-bones-bash.html&lt;span-class='chapter-number'&gt;6&lt;/span&gt;--&lt;span-class='chapter-title'&gt;Introduction-to-the-Command-Line&lt;/span&gt;"&gt;&lt;span class="chapter-number"&gt;6&lt;/span&gt;&nbsp; &lt;span class="chapter-title"&gt;Introduction to the Command Line&lt;/span&gt;&lt;/span&gt; &lt;span class="hidden" data-render-id="quarto-int-sidebar:/r-tidyverse.html&lt;span-class='chapter-number'&gt;7&lt;/span&gt;--&lt;span-class='chapter-title'&gt;Introduction-to-R-and-the-Tidyverse&lt;/span&gt;"&gt;&lt;span class="chapter-number"&gt;7&lt;/span&gt;&nbsp; &lt;span class="chapter-title"&gt;Introduction to R and the Tidyverse&lt;/span&gt;&lt;/span&gt; &lt;span class="hidden" data-render-id="quarto-int-sidebar:/python-pandas.html&lt;span-class='chapter-number'&gt;8&lt;/span&gt;--&lt;span-class='chapter-title'&gt;Introduction-to-Python-and-Pandas&lt;/span&gt;"&gt;&lt;span class="chapter-number"&gt;8&lt;/span&gt;&nbsp; &lt;span class="chapter-title"&gt;Introduction to Python and Pandas&lt;/span&gt;&lt;/span&gt; &lt;span class="hidden" data-render-id="quarto-int-sidebar:/git-github.html&lt;span-class='chapter-number'&gt;9&lt;/span&gt;--&lt;span-class='chapter-title'&gt;Introduction-to-Git(Hub)&lt;/span&gt;"&gt;&lt;span class="chapter-number"&gt;9&lt;/span&gt;&nbsp; &lt;span class="chapter-title"&gt;Introduction to Git(Hub)&lt;/span&gt;&lt;/span&gt; &lt;span class="hidden" data-render-id="quarto-int-sidebar:quarto-sidebar-section-3"&gt;Ancient Metagenomics&lt;/span&gt; &lt;span class="hidden" data-render-id="quarto-int-sidebar:/taxonomic-profiling.html&lt;span-class='chapter-number'&gt;10&lt;/span&gt;--&lt;span-class='chapter-title'&gt;Taxonomic-Profiling,-OTU-Tables-and-Visualisation&lt;/span&gt;"&gt;&lt;span class="chapter-number"&gt;10&lt;/span&gt;&nbsp; &lt;span class="chapter-title"&gt;Taxonomic Profiling, OTU Tables and Visualisation&lt;/span&gt;&lt;/span&gt; &lt;span class="hidden" data-render-id="quarto-int-sidebar:/functional-profiling.html&lt;span-class='chapter-number'&gt;11&lt;/span&gt;--&lt;span-class='chapter-title'&gt;Functional-Profiling&lt;/span&gt;"&gt;&lt;span class="chapter-number"&gt;11&lt;/span&gt;&nbsp; &lt;span class="chapter-title"&gt;Functional Profiling&lt;/span&gt;&lt;/span&gt; &lt;span class="hidden" data-render-id="quarto-int-sidebar:/denovo-assembly.html&lt;span-class='chapter-number'&gt;12&lt;/span&gt;--&lt;span-class='chapter-title'&gt;Introduction-to-_de-novo_-Genome-Assembly&lt;/span&gt;"&gt;&lt;span class="chapter-number"&gt;12&lt;/span&gt;&nbsp; &lt;span class="chapter-title"&gt;Introduction to &lt;em&gt;de novo&lt;/em&gt; Genome Assembly&lt;/span&gt;&lt;/span&gt; &lt;span class="hidden" data-render-id="quarto-int-sidebar:/authentication-decontamination.html&lt;span-class='chapter-number'&gt;13&lt;/span&gt;--&lt;span-class='chapter-title'&gt;Authentication-and-Decontamination&lt;/span&gt;"&gt;&lt;span class="chapter-number"&gt;13&lt;/span&gt;&nbsp; &lt;span class="chapter-title"&gt;Authentication and Decontamination&lt;/span&gt;&lt;/span&gt; &lt;span class="hidden" data-render-id="quarto-int-sidebar:quarto-sidebar-section-4"&gt;Ancient Genomics&lt;/span&gt; &lt;span class="hidden" data-render-id="quarto-int-sidebar:/genome-mapping.html&lt;span-class='chapter-number'&gt;14&lt;/span&gt;--&lt;span-class='chapter-title'&gt;Genome-Mapping&lt;/span&gt;"&gt;&lt;span class="chapter-number"&gt;14&lt;/span&gt;&nbsp; &lt;span class="chapter-title"&gt;Genome Mapping&lt;/span&gt;&lt;/span&gt; &lt;span class="hidden" data-render-id="quarto-int-sidebar:/phylogenomics.html&lt;span-class='chapter-number'&gt;15&lt;/span&gt;--&lt;span-class='chapter-title'&gt;Introduction-to-Phylogenomics&lt;/span&gt;"&gt;&lt;span class="chapter-number"&gt;15&lt;/span&gt;&nbsp; &lt;span class="chapter-title"&gt;Introduction to Phylogenomics&lt;/span&gt;&lt;/span&gt; &lt;span class="hidden" data-render-id="quarto-int-sidebar:quarto-sidebar-section-5"&gt;Ancient Metagenomic Resources&lt;/span&gt; &lt;span class="hidden" data-render-id="quarto-int-sidebar:/accessing-ancient-metagenomic-data.html&lt;span-class='chapter-number'&gt;16&lt;/span&gt;--&lt;span-class='chapter-title'&gt;Accessing-Ancient-Metagenomic-Data&lt;/span&gt;"&gt;&lt;span class="chapter-number"&gt;16&lt;/span&gt;&nbsp; &lt;span class="chapter-title"&gt;Accessing Ancient Metagenomic Data&lt;/span&gt;&lt;/span&gt; &lt;span class="hidden" data-render-id="quarto-int-sidebar:/ancient-metagenomic-pipelines.html&lt;span-class='chapter-number'&gt;17&lt;/span&gt;--&lt;span-class='chapter-title'&gt;Ancient-Metagenomic-Pipelines&lt;/span&gt;"&gt;&lt;span class="chapter-number"&gt;17&lt;/span&gt;&nbsp; &lt;span class="chapter-title"&gt;Ancient Metagenomic Pipelines&lt;/span&gt;&lt;/span&gt; &lt;span class="hidden" data-render-id="quarto-int-sidebar:quarto-sidebar-section-6"&gt;Appendices&lt;/span&gt; &lt;span class="hidden" data-render-id="quarto-int-sidebar:/resources.html&lt;span-class='chapter-number'&gt;18&lt;/span&gt;--&lt;span-class='chapter-title'&gt;Resources&lt;/span&gt;"&gt;&lt;span class="chapter-number"&gt;18&lt;/span&gt;&nbsp; &lt;span class="chapter-title"&gt;Resources&lt;/span&gt;&lt;/span&gt; &lt;span class="hidden" data-render-id="quarto-int-sidebar:/tools.html&lt;span-class='chapter-number'&gt;19&lt;/span&gt;--&lt;span-class='chapter-title'&gt;Tools&lt;/span&gt;"&gt;&lt;span class="chapter-number"&gt;19&lt;/span&gt;&nbsp; &lt;span class="chapter-title"&gt;Tools&lt;/span&gt;&lt;/span&gt; &lt;span class="hidden" data-render-id="quarto-int-sidebar:/chapter-writing-guidelines.html&lt;span-class='chapter-number'&gt;20&lt;/span&gt;--&lt;span-class='chapter-title'&gt;Chapter-Writing-Guidelines&lt;/span&gt;"&gt;&lt;span class="chapter-number"&gt;20&lt;/span&gt;&nbsp; &lt;span class="chapter-title"&gt;Chapter Writing Guidelines&lt;/span&gt;&lt;/span&gt; &lt;span class="hidden" data-render-id="quarto-int-sidebar:/chapter-template.html&lt;span-class='chapter-number'&gt;21&lt;/span&gt;--&lt;span-class='chapter-title'&gt;Chapter-Page-Template&lt;/span&gt;"&gt;&lt;span class="chapter-number"&gt;21&lt;/span&gt;&nbsp; &lt;span class="chapter-title"&gt;Chapter Page Template&lt;/span&gt;&lt;/span&gt; &lt;span class="hidden" data-render-id="quarto-int-sidebar:/chapter-checklist.html&lt;span-class='chapter-number'&gt;22&lt;/span&gt;--&lt;span-class='chapter-title'&gt;Chapter-Checklist&lt;/span&gt;"&gt;&lt;span class="chapter-number"&gt;22&lt;/span&gt;&nbsp; &lt;span class="chapter-title"&gt;Chapter Checklist&lt;/span&gt;&lt;/span&gt; &lt;span class="hidden" data-render-id="quarto-breadcrumbs-Appendices"&gt;Appendices&lt;/span&gt; &lt;span class="hidden" data-render-id="quarto-breadcrumbs-&lt;span-class='chapter-number'&gt;22&lt;/span&gt;--&lt;span-class='chapter-title'&gt;Chapter-Checklist&lt;/span&gt;"&gt;&lt;span class="chapter-number"&gt;22&lt;/span&gt;&nbsp; &lt;span class="chapter-title"&gt;Chapter Checklist&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;div class="hidden" data-render-id="footer-center"&gt;
&lt;p&gt;© 2023 SPAAM Community &amp; Authors with ❤️. Available under &lt;a href="http://creativecommons.org/licenses/by-sa/4.0/"&gt;CC-BY 4.0&lt;/a&gt;. Source material &lt;a href="https://github.com/SPAAM-community/intro-to-ancient-metagenomics-book"&gt;here&lt;/a&gt;.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id="quarto-meta-markdown" class="hidden"&gt;
&lt;p&gt;&lt;span class="hidden" data-render-id="quarto-metatitle"&gt;Introduction to Ancient Metagenomics - &lt;span class="chapter-number"&gt;22&lt;/span&gt;&nbsp; &lt;span class="chapter-title"&gt;Chapter Checklist&lt;/span&gt;&lt;/span&gt; &lt;span class="hidden" data-render-id="quarto-twittercardtitle"&gt;Introduction to Ancient Metagenomics - &lt;span class="chapter-number"&gt;22&lt;/span&gt;&nbsp; &lt;span class="chapter-title"&gt;Chapter Checklist&lt;/span&gt;&lt;/span&gt; &lt;span class="hidden" data-render-id="quarto-ogcardtitle"&gt;Introduction to Ancient Metagenomics - &lt;span class="chapter-number"&gt;22&lt;/span&gt;&nbsp; &lt;span class="chapter-title"&gt;Chapter Checklist&lt;/span&gt;&lt;/span&gt; &lt;span class="hidden" data-render-id="quarto-metasitename"&gt;Introduction to Ancient Metagenomics&lt;/span&gt; &lt;span class="hidden" data-render-id="quarto-twittercarddesc"&gt;&lt;/span&gt; &lt;span class="hidden" data-render-id="quarto-ogcardddesc"&gt;&lt;/span&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;/section&gt;

&lt;/main&gt; &lt;!-- /main --&gt;
&lt;script id = "quarto-html-after-body" type="application/javascript"&gt;
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) =&gt; {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () =&gt; {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) =&gt; {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp("https:\/\/spaam-community\.github\.org\/intro-to-ancient-metagenomics-book");
    var isInternal = (href) =&gt; {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool)');
    for (var i=0; i&lt;links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i&lt;noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) =&gt; {
    // Strip column container classes
    const stripColumnClz = (el) =&gt; {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children &amp;&amp; note.children.length &gt; 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i &lt; note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" &amp;&amp; child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i&lt;xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res =&gt; res.text())
          .then(html =&gt; {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() =&gt; {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res =&gt; res.text())
        .then(html =&gt; {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length &gt; 0 &amp;&amp; note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() =&gt; {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) =&gt; {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) =&gt; {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) =&gt; {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length &gt; 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length &gt; 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null &amp;&amp; height !== null &amp;&amp; parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () =&gt; {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) =&gt; {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() =&gt; {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) =&gt; {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() =&gt; {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) =&gt; {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) =&gt; {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i&lt;bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
&lt;/script&gt;
&lt;nav class="page-navigation"&gt;
  &lt;div class="nav-page nav-page-previous"&gt;
      &lt;a  href="/chapter-template.html" class="pagination-link" aria-label="Chapter Page Template"&gt;
        &lt;i class="bi bi-arrow-left-short"&gt;&lt;/i&gt; &lt;span class="nav-page-text"&gt;&lt;span class='chapter-number'&gt;21&lt;/span&gt;&nbsp; &lt;span class='chapter-title'&gt;Chapter Page Template&lt;/span&gt;&lt;/span&gt;
      &lt;/a&gt;          
  &lt;/div&gt;
  &lt;div class="nav-page nav-page-next"&gt;
  &lt;/div&gt;
&lt;/nav&gt;
&lt;/div&gt; &lt;!-- /content --&gt;
&lt;footer class="footer"&gt;
  &lt;div class="nav-footer"&gt;
    &lt;div class="nav-footer-left"&gt;
      &nbsp;
    &lt;/div&gt;   
    &lt;div class="nav-footer-center"&gt;
      &lt;div class='footer-contents'&gt;© 2023 SPAAM Community &amp; Authors with ❤️. Available under [CC-BY 4.0](http://creativecommons.org/licenses/by-sa/4.0/). Source material [here](https://github.com/SPAAM-community/intro-to-ancient-metagenomics-book).&lt;/div&gt;  
    &lt;/div&gt;
    &lt;div class="nav-footer-right"&gt;
      &nbsp;
    &lt;/div&gt;
  &lt;/div&gt;
&lt;/footer&gt;

&lt;/body&gt;

&lt;/html&gt;
</title></li></ul></section></main></div></body></html>